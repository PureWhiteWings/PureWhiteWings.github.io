<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Achaea scripts documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Basic_navigation">Basic navigation </a></li>
<li><a href="#Getters_setters">Getters/setters </a></li>
<li><a href="#Location_status">Location status </a></li>
<li><a href="#Conversions">Conversions </a></li>
<li><a href="#Auto_calibration">Auto-calibration </a></li>
<li><a href="#Sailplan_stuff">Sailplan stuff </a></li>
<li><a href="#Autopilot">Autopilot </a></li>
<li><a href="#Maps_and_map_readers">Maps and map readers </a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/Bezel.html">Bezel</a></li>
  <li><strong>Navigator</strong></li>
  <li><a href="../modules/Utilities.html">Utilities</a></li>
</ul>
<h2>Classes</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../classes/Gunner.html">Gunner</a></li>
  <li><a href="../classes/MFD.html">MFD</a></li>
  <li><a href="../classes/Ship.html">Ship</a></li>
  <li><a href="../classes/ShipAnnunciator.html">ShipAnnunciator</a></li>
  <li><a href="../classes/ShipCompass.html">ShipCompass</a></li>
  <li><a href="../classes/ShipLCDBox.html">ShipLCDBox</a></li>
  <li><a href="../classes/ShipVitalsBox.html">ShipVitalsBox</a></li>
  <li><a href="../classes/VitalsBox.html">VitalsBox</a></li>
</ul>
</ul>

</div>

<div id="content">

<h1>Module <code>Navigator</code></h1>
<p>Utilities and data relating to wilderness map navigation, both on land and sea.</p>
<p>

</p>


<h2><a href="#Basic_navigation">Basic navigation </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#findWaypoint">findWaypoint (targetWaypoint)</a></td>
	<td class="summary">Finds bearing and distance to waypoint from current location.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getPointBearings">getPointBearings (_originX, _originY, _targetX, _targetY)</a></td>
	<td class="summary">Returns the bearing to target coordinates from origin coordinates.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getChebyshevDistance">getChebyshevDistance (originX, originY, targetX, targetY)</a></td>
	<td class="summary">Returns the Chebyshev distance between two points.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getNearestHarbours">getNearestHarbours (numReturns)</a></td>
	<td class="summary">Locates an arbitrary number of the nearest harbours.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getWaypointTable">getWaypointTable ()</a></td>
	<td class="summary">Returns a copy of the full waypoint table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#calculateMovementSpeed">calculateMovementSpeed ()</a></td>
	<td class="summary">Something to do with movement speed.</td>
	</tr>
</table>
<h2><a href="#Getters_setters">Getters/setters </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#getEasting">getEasting ()</a></td>
	<td class="summary">Returns the player's current easting.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getSouthing">getSouthing ()</a></td>
	<td class="summary">Returns the player's current southing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getError">getError ()</a></td>
	<td class="summary">Returns the player's current CEP.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setEasting">setEasting (input)</a></td>
	<td class="summary">Sets the player's current easting.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setSouthing">setSouthing (input)</a></td>
	<td class="summary">Sets the player's current southing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setError">setError (input)</a></td>
	<td class="summary">Sets the player's current CEP.</td>
	</tr>
</table>
<h2><a href="#Location_status">Location status </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#aboardShip">aboardShip ()</a></td>
	<td class="summary">Returns true if user is aboard a ship.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#havePosition">havePosition ()</a></td>
	<td class="summary">Returns true if Navigator has a valid position set.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#inSubdivision">inSubdivision ()</a></td>
	<td class="summary">Returns true if user is in a subdivision.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#inWildernessMap">inWildernessMap ()</a></td>
	<td class="summary">Returns true if user is in the wilderness map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSeafloor">onSeafloor ()</a></td>
	<td class="summary">Returns true if user is in in a seafloor area.</td>
	</tr>
</table>
<h2><a href="#Conversions">Conversions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#cardinalToHeading">cardinalToHeading (_cardinalDirection)</a></td>
	<td class="summary">Converts a cardinal-direction string to heading in degrees.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#roomNumToCoords">roomNumToCoords (_roomNum)</a></td>
	<td class="summary">Converts standard three-parameter ATP coordinates to screen coordinates.</td>
	</tr>
</table>
<h2><a href="#Auto_calibration">Auto-calibration </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#adjustCoords">adjustCoords (_dirMoved, _inputEasting, _inputSouthing)</a></td>
	<td class="summary">Returns current coordinates adjusted for input direction.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#autoCal">autoCal (inputEasting, inputSouthing)</a></td>
	<td class="summary">Doesn't actually autocalibrate, just takes in stuff to pass to self variables.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#buildSearchTable">buildSearchTable (doFullSearch)</a></td>
	<td class="summary">Populates searchTable with the relevant rows of text, before we begin finding candidates.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#checkCandidates">checkCandidates (locationCandidates, shipColumn)</a></td>
	<td class="summary">It checks candidates?</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#doShipAutocal">doShipAutocal ()</a></td>
	<td class="summary">Old autocal</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#findLineDelta">findLineDelta ()</a></td>
	<td class="summary">Finds nearest Î” candidate in <code>Navigator.currentMap</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gatherCandidates">gatherCandidates (searchString)</a></td>
	<td class="summary">Gathers the candidates for our line.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getSearchHeight">getSearchHeight ()</a></td>
	<td class="summary">Gets search height.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#doINSmove">doINSmove ()</a></td>
	<td class="summary">Feed our last movement direction to the INS routine.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isInOpenSeas">isInOpenSeas ()</a></td>
	<td class="summary">See if all the lines of our map are blank spaces, to see if we even have any sort of landmarks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#trimLocationCandidates">trimLocationCandidates (inputTable, distanceLimit)</a></td>
	<td class="summary">This finds things.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#updateINS">updateINS ()</a></td>
	<td class="summary">Old INS stuff.</td>
	</tr>
</table>
<h2><a href="#Sailplan_stuff">Sailplan stuff </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#isAtDestination">isAtDestination ()</a></td>
	<td class="summary">Returns true if current position matches destination position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#steerpointNext">steerpointNext ()</a></td>
	<td class="summary">Next steerpoint.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#steerpointPrevious">steerpointPrevious ()</a></td>
	<td class="summary">Previous steerpoint.</td>
	</tr>
</table>
<h2><a href="#Autopilot">Autopilot </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#autopilot">autopilot</a></td>
	<td class="summary">Container for autopilot functionality</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#checkAlignment">checkAlignment ()</a></td>
	<td class="summary">These do things, I guess.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#waypointTurn">waypointTurn ()</a></td>
	<td class="summary">These do things, I guess.</td>
	</tr>
</table>
<h2><a href="#Maps_and_map_readers">Maps and map readers </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#maps">maps</a></td>
	<td class="summary">Container for maps</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Navigator.maps.full">Navigator.maps.full</a></td>
	<td class="summary">Full world map as a table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Navigator.maps.current">Navigator.maps.current</a></td>
	<td class="summary">The last map sent to us by the game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isOurShip">isOurShip ()</a></td>
	<td class="summary">True if = under the cursor is our ship, as determined by text colour.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isSeamonster">isSeamonster ()</a></td>
	<td class="summary">True if M under cursor is a seamonster, as determined by the text colour.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isTargetShip">isTargetShip ()</a></td>
	<td class="summary">True if = under the cursor is our ship, as determined by text colour.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Basic_navigation"></a>Basic navigation </h2>


    <dl class="function">
    <dt>
    <a name = "findWaypoint"></a>
    <strong>findWaypoint (targetWaypoint)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#43">line 43</a>
    </dt>
    <dd>
    Finds bearing and distance to waypoint from current location.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">targetWaypoint</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Shortname of the waypoint to located.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">float</span></span>
        Bearing to waypoint in degrees.</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        Chebyshev distance to waypoint.</li>
    </ol>




</dd>
    <dt>
    <a name = "getPointBearings"></a>
    <strong>getPointBearings (_originX, _originY, _targetX, _targetY)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#66">line 66</a>
    </dt>
    <dd>
    Returns the bearing to target coordinates from origin coordinates.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_originX</span>
            <span class="types"><span class="type">int</span></span>
         Origin point X-coordinate.
        </li>
        <li><span class="parameter">_originY</span>
            <span class="types"><span class="type">int</span></span>
         Origin point Y-coordinate.
        </li>
        <li><span class="parameter">_targetX</span>
            <span class="types"><span class="type">int</span></span>
         Target point X-coordinate.
        </li>
        <li><span class="parameter">_targetY</span>
            <span class="types"><span class="type">int</span></span>
         Target point Y-coordinate.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        Bearing to target coordinate in degrees.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> bearing = myNavigator.getPointBearings(  <span class="number">418</span>,<span class="number">443</span> , <span class="number">553</span>,<span class="number">221</span> )</pre>
    </ul>

</dd>
    <dt>
    <a name = "getChebyshevDistance"></a>
    <strong>getChebyshevDistance (originX, originY, targetX, targetY)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#127">line 127</a>
    </dt>
    <dd>
    Returns the Chebyshev distance between two points.
 Does not account for impassable seas or obstacles.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">originX</span>
            <span class="types"><span class="type">int</span></span>
         Origin point X-coordinate.
        </li>
        <li><span class="parameter">originY</span>
            <span class="types"><span class="type">int</span></span>
         Origin point Y-coordinate.
        </li>
        <li><span class="parameter">targetX</span>
            <span class="types"><span class="type">int</span></span>
         Target point X-coordinate.
        </li>
        <li><span class="parameter">targetY</span>
            <span class="types"><span class="type">int</span></span>
         Target point Y-coordinate.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        Chebyshev distance to target point.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> distance = myNavigator.getChebyshevDistance(<span class="number">374</span>,<span class="number">804</span>,<span class="number">447</span>,<span class="number">878</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "getNearestHarbours"></a>
    <strong>getNearestHarbours (numReturns)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#142">line 142</a>
    </dt>
    <dd>
    Locates an arbitrary number of the nearest harbours.
 Gathers the name, distance, and bearings of the nearest harbours, and organises them for further processing.
 Limited in number of returns by <strong>numReturns</strong>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">numReturns</span>
            <span class="types"><span class="type">int</span></span>
         The number of nearest harbours to return results for, after sorting.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        Indexed table containing information for the <strong>numReturns</strong> nearest harbours, sorted by ascending distance..
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> nearestHarbour = myNavigator.getNearestHarbours(<span class="number">1</span>)[<span class="number">1</span>]</pre>
    </ul>

</dd>
    <dt>
    <a name = "getWaypointTable"></a>
    <strong>getWaypointTable ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#172">line 172</a>
    </dt>
    <dd>
    Returns a copy of the full waypoint table.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        A full copy of the master <strong>Navigator.waypoints</strong> table.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="global">pairs</span>(myNavigator.getWaypointTable()) <span class="keyword">do</span> echo(v.name..<span class="string">"\n"</span>) <span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "calculateMovementSpeed"></a>
    <strong>calculateMovementSpeed ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#178">line 178</a>
    </dt>
    <dd>
    Something to do with movement speed.







</dd>
</dl>
    <h2><a name="Getters_setters"></a>Getters/setters </h2>


 For creating and initialising Navigator object.
    <dl class="function">
    <dt>
    <a name = "getEasting"></a>
    <strong>getEasting ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#226">line 226</a>
    </dt>
    <dd>
    Returns the player's current easting.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        Current Navigator easting.
    </ol>




</dd>
    <dt>
    <a name = "getSouthing"></a>
    <strong>getSouthing ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#233">line 233</a>
    </dt>
    <dd>
    Returns the player's current southing.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        Current Navigator southing.
    </ol>




</dd>
    <dt>
    <a name = "getError"></a>
    <strong>getError ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#240">line 240</a>
    </dt>
    <dd>
    Returns the player's current CEP.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        Current Navigator CEP.
    </ol>




</dd>
    <dt>
    <a name = "setEasting"></a>
    <strong>setEasting (input)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#248">line 248</a>
    </dt>
    <dd>
    Sets the player's current easting.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">input</span>
            <span class="types"><span class="type">int</span></span>
         New Navigator easting.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">myNavigator.setEasting(<span class="number">261</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "setSouthing"></a>
    <strong>setSouthing (input)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#257">line 257</a>
    </dt>
    <dd>
    Sets the player's current southing.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">input</span>
            <span class="types"><span class="type">int</span></span>
         New Navigator southing.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">myNavigator.setSouthing(<span class="number">729</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "setError"></a>
    <strong>setError (input)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#266">line 266</a>
    </dt>
    <dd>
    Sets the player's current CEP.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">input</span>
            <span class="types"><span class="type">int</span></span>
         New Navigator CEP.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">myNavigator.setError(<span class="number">2</span>)</pre>
    </ul>

</dd>
</dl>
    <h2><a name="Location_status"></a>Location status </h2>


    <dl class="function">
    <dt>
    <a name = "aboardShip"></a>
    <strong>aboardShip ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#286">line 286</a>
    </dt>
    <dd>
    Returns true if user is aboard a ship.
 Does its best to avoid false positives, such as ferries, using a table of failure states as its metric.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        Whether user is aboard a ship.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/Navigator.html#onSeafloor">Navigator.onSeafloor</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> myNavigator.aboardShip() <span class="keyword">then</span>...</pre>
    </ul>

</dd>
    <dt>
    <a name = "havePosition"></a>
    <strong>havePosition ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#311">line 311</a>
    </dt>
    <dd>
    Returns true if Navigator has a valid position set.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True, if valid position set.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> myNavigator.havePosition() <span class="keyword">then</span>...</pre>
    </ul>

</dd>
    <dt>
    <a name = "inSubdivision"></a>
    <strong>inSubdivision ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#321">line 321</a>
    </dt>
    <dd>
    Returns true if user is in a subdivision.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True, if in subdivision.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> myNavigator.inSubdivision() <span class="keyword">then</span>...</pre>
    </ul>

</dd>
    <dt>
    <a name = "inWildernessMap"></a>
    <strong>inWildernessMap ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#338">line 338</a>
    </dt>
    <dd>
    Returns true if user is in the wilderness map.
 Does not count being aboard a vessel as being in the wilderness map.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True, if in subdivision.
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/Navigator.html#aboardShip">Navigator.aboardShip</a></li>
         <li><a href="../modules/Navigator.html#onSeafloor">Navigator.onSeafloor</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> myNavigator.aboardShip() <span class="keyword">then</span>...</pre>
    </ul>

</dd>
    <dt>
    <a name = "onSeafloor"></a>
    <strong>onSeafloor ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#351">line 351</a>
    </dt>
    <dd>
    Returns true if user is in in a seafloor area.
 Useful to keep us from zeroing out data when we don't actually want to.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True, if in seafloor area.
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/Navigator.html#aboardShip">Navigator.aboardShip</a></li>
         <li><a href="../modules/Navigator.html#inWildernessMap">Navigator.inWildernessMap</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> myNavigator.onSeafloor() <span class="keyword">then</span>...</pre>
    </ul>

</dd>
</dl>
    <h2><a name="Conversions"></a>Conversions </h2>


    <dl class="function">
    <dt>
    <a name = "cardinalToHeading"></a>
    <strong>cardinalToHeading (_cardinalDirection)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#380">line 380</a>
    </dt>
    <dd>
    Converts a cardinal-direction string to heading in degrees.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_cardinalDirection</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Direction (e.g. "north", "e", "south-southwest", "ene")
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        Heading in degrees
    </ol>




</dd>
    <dt>
    <a name = "roomNumToCoords"></a>
    <strong>roomNumToCoords (_roomNum)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#413">line 413</a>
    </dt>
    <dd>
    Converts standard three-parameter ATP coordinates to screen coordinates.
 Used in setting our position when we have a wilderness room number.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_roomNum</span>
            <span class="types"><span class="type">int</span></span>
         The room number we wish to convert.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        Easting in screen coordinates.</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        Southing in screen coordinates.</li>
    </ol>




</dd>
</dl>
    <h2><a name="Auto_calibration"></a>Auto-calibration </h2>


    <dl class="function">
    <dt>
    <a name = "adjustCoords"></a>
    <strong>adjustCoords (_dirMoved, _inputEasting, _inputSouthing)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#476">line 476</a>
    </dt>
    <dd>
    Returns current coordinates adjusted for input direction.
  Also invoked by Figurehead for wavecall.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_dirMoved</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Short-form direction string.
        </li>
        <li><span class="parameter">_inputEasting</span>
            <span class="types"><span class="type">int</span></span>
         Current Navigator easting.
        </li>
        <li><span class="parameter">_inputSouthing</span>
            <span class="types"><span class="type">int</span></span>
         Current Navigator southing.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        Adjusted easting.</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        Adjusted southing.</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">myNavigator.adjustCoords(<span class="string">"n"</span>,<span class="number">625</span>,<span class="number">715</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "autoCal"></a>
    <strong>autoCal (inputEasting, inputSouthing)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#523">line 523</a>
    </dt>
    <dd>
    Doesn't actually autocalibrate, just takes in stuff to pass to self variables.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">inputEasting</span>
            <span class="types"><span class="type">int</span></span>
         New easting to set.
        </li>
        <li><span class="parameter">inputSouthing</span>
            <span class="types"><span class="type">int</span></span>
         New southing to set.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "buildSearchTable"></a>
    <strong>buildSearchTable (doFullSearch)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#548">line 548</a>
    </dt>
    <dd>
    Populates searchTable with the relevant rows of text, before we begin finding candidates.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">doFullSearch</span>
            <span class="types"><span class="type">bool</span></span>
         True, to search the entire map for candidates. False if building a limited array to search through.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "checkCandidates"></a>
    <strong>checkCandidates (locationCandidates, shipColumn)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#574">line 574</a>
    </dt>
    <dd>
    It checks candidates?


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">locationCandidates</span>



        </li>
        <li><span class="parameter">shipColumn</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "doShipAutocal"></a>
    <strong>doShipAutocal ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#657">line 657</a>
    </dt>
    <dd>
    Old autocal







</dd>
    <dt>
    <a name = "findLineDelta"></a>
    <strong>findLineDelta ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#767">line 767</a>
    </dt>
    <dd>
    Finds nearest Î” candidate in <code>Navigator.currentMap</code>.



    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Contents of the line containing the located reference. Used in later steps to verify location candidates, before heading into confidence calculations.</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        Latitudinal distance from the central calibration point, Î”. Negative values are north.</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> locatorString, lineDelta = myNavigator.findLineDelta()</pre>
    </ul>

</dd>
    <dt>
    <a name = "gatherCandidates"></a>
    <strong>gatherCandidates (searchString)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#820">line 820</a>
    </dt>
    <dd>
    Gathers the candidates for our line.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">searchString</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Map line to gather candidates for.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "getSearchHeight"></a>
    <strong>getSearchHeight ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#843">line 843</a>
    </dt>
    <dd>
    Gets search height.







</dd>
    <dt>
    <a name = "doINSmove"></a>
    <strong>doINSmove ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#854">line 854</a>
    </dt>
    <dd>
    Feed our last movement direction to the INS routine.  Adjusts current Navigator coords acordingly.







</dd>
    <dt>
    <a name = "isInOpenSeas"></a>
    <strong>isInOpenSeas ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#862">line 862</a>
    </dt>
    <dd>
    See if all the lines of our map are blank spaces, to see if we even have any sort of landmarks.







</dd>
    <dt>
    <a name = "trimLocationCandidates"></a>
    <strong>trimLocationCandidates (inputTable, distanceLimit)</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#877">line 877</a>
    </dt>
    <dd>
    This finds things.
 allegedly, not great though


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">inputTable</span>
         what.
        </li>
        <li><span class="parameter">distanceLimit</span>
         what.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "updateINS"></a>
    <strong>updateINS ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#901">line 901</a>
    </dt>
    <dd>
    Old INS stuff.







</dd>
</dl>
    <h2><a name="Sailplan_stuff"></a>Sailplan stuff </h2>


    <dl class="function">
    <dt>
    <a name = "isAtDestination"></a>
    <strong>isAtDestination ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1037">line 1037</a>
    </dt>
    <dd>
    Returns true if current position matches destination position.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True if at destination position.
    </ol>




</dd>
    <dt>
    <a name = "steerpointNext"></a>
    <strong>steerpointNext ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1056">line 1056</a>
    </dt>
    <dd>
    Next steerpoint.







</dd>
    <dt>
    <a name = "steerpointPrevious"></a>
    <strong>steerpointPrevious ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1071">line 1071</a>
    </dt>
    <dd>
    Previous steerpoint.







</dd>
</dl>
    <h2><a name="Autopilot"></a>Autopilot </h2>


    <dl class="function">
    <dt>
    <a name = "autopilot"></a>
    <strong>autopilot</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1142">line 1142</a>
    </dt>
    <dd>
    Container for autopilot functionality


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">_autopilotEnabled</span>
        If autopilot is enabled
        </li>
        <li><span class="parameter">_stoppedToTurn</span>
        If autopilot is stopped for purposes of turning
        </li>
    </ul>





</dd>
    <dt>
    <a name = "checkAlignment"></a>
    <strong>checkAlignment ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1150">line 1150</a>
    </dt>
    <dd>
    These do things, I guess.
 Yep. I guess.







</dd>
    <dt>
    <a name = "waypointTurn"></a>
    <strong>waypointTurn ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1167">line 1167</a>
    </dt>
    <dd>
    These do things, I guess.
 Yep. I guess.







</dd>
</dl>
    <h2><a name="Maps_and_map_readers"></a>Maps and map readers </h2>


    <dl class="function">
    <dt>
    <a name = "maps"></a>
    <strong>maps</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1261">line 1261</a>
    </dt>
    <dd>
    Container for maps







</dd>
    <dt>
    <a name = "Navigator.maps.full"></a>
    <strong>Navigator.maps.full</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1265">line 1265</a>
    </dt>
    <dd>
    Full world map as a table.  Table indices are 1 higher than their actual coordinate value!







</dd>
    <dt>
    <a name = "Navigator.maps.current"></a>
    <strong>Navigator.maps.current</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1289">line 1289</a>
    </dt>
    <dd>
    The last map sent to us by the game.






    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 {
   <span class="string">"nnnnnnnnnn....wwwwww     "</span>,
   <span class="string">"nnnnnnnnn.....wwwwwww    "</span>,
   <span class="string">"nnnnnnnn.......wwwwww    "</span>,
   <span class="string">"++++++++++++++.w.www     "</span>,
   <span class="string">"nnnnnn.........wwwww     "</span>,
   <span class="string">"nnnnnn..........ww       "</span>,
   <span class="string">"nnnnn..........ww        "</span>,
   <span class="string">"nnnnn.........ww         "</span>,
   <span class="string">"nnnnn.......=            "</span>,
   <span class="string">"nnnnn.........ww         "</span>,
   <span class="string">"nnnnn..........www       "</span>,
   <span class="string">"nnnnn.......wwwwww       "</span>,
   <span class="string">"nnnnn......wwwwww        "</span>,
   <span class="string">"nnnnnn.....www;www       "</span>,
   <span class="string">"nnnnnnn...wwwwwwwww      "</span>,
   <span class="string">"nnnnnnnn..wwwwwwwww      "</span>,
   <span class="string">"nnnnnnnn..wwwwwwww       "</span>
 }</pre>
    </ul>

</dd>
    <dt>
    <a name = "isOurShip"></a>
    <strong>isOurShip ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1294">line 1294</a>
    </dt>
    <dd>
    True if = under the cursor is our ship, as determined by text colour.







</dd>
    <dt>
    <a name = "isSeamonster"></a>
    <strong>isSeamonster ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1308">line 1308</a>
    </dt>
    <dd>
    True if M under cursor is a seamonster, as determined by the text colour.







</dd>
    <dt>
    <a name = "isTargetShip"></a>
    <strong>isTargetShip ()</strong>
    <a style="float:right;" href="../source/Navigator.lua.html#1322">line 1322</a>
    </dt>
    <dd>
    True if = under the cursor is our ship, as determined by text colour.







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2021-01-24 20:04:53 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
